<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>ScribeUI - Installing ScribeUI</title>
  </head>
  <body>



<body>
  <div id="wrap">
	<nav id="top-nav" class="inner">
		<a href="index.html" class="active">Home</a> 
		<a href="getting-started.html">Getting Started</a> 
		<a href="documentation.html">Docs</a> 
    <a href="http://blog.scribeui.org">Blog</a>
		<a href="faq.html">FAQ</a> 
		<a href="about.html">About</a> 
	</nav>
  <header>
    <div class="inner">
      <h1>ScribeUI</h1>
      <h2>MapServer Mapfile Development Made Easy</h2>
      <a href="https://github.com/mapgears/scribeui" class="button"><small>View project on</small>GitHub</a>
    </div>
  </header>

<div id="content-wrapper">
  <div class="inner clearfix">
    <section id="main-content">
      <h1>Installing ScribeUI</h1>

<p>First, <a href="https://github.com/mapgears/scribeui">download the latest release of ScribeUI on github</a>.</p>

<h2>Installing</h2>

<p>The following instruction installations were tested on ubuntu precise. </p>

<p><strong>Requirements</strong></p>

<ul>
<li>Mapserver 6.4.1</li>
<li>Apache 2.2</li>
<li>Make</li>
</ul>

<h2>Production installation</h2>

<p>You need to install apache2 with mod_wsgi: </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">sudo apt-get install libapache2-mod-wsgi 
</code></pre></div>
<p><strong>Note</strong> mod_wsgi 3.4 or more is recommended. <a href="http://scribeui.org/faq.html#wsgi-how">How to compile mod_wsgi 3.4 on ubuntu precise</a></p>

<h2>Configuration</h2>

<p>First, clone the repository in a folder www-data will be able to access. In this configuration example, the scribeui folder will be located at <code>/opt/scribeui</code></p>

<p>Then, copy the default production settings:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">cp production.ini local.ini
</code></pre></div>
<p>Make sure the mapserver url in local.ini points to your mapserver path:
    - line 35: mapserver.url</p>

<p>Edit the proxy.cgi file and add your server host to the list of allowed hosts if different from localhost (localhost is already included.)</p>

<p>Create a file &#39;pyramid.wsgi&#39; with the following content, editing the path to your scribeui installation:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">from pyramid.paster import get_app, setup_logging
ini_path = &#39;/opt/scribeui/local.ini&#39;
setup_logging(ini_path)
application = get_app(ini_path, &#39;main&#39;)
</code></pre></div>
<p>You can use the Makefile to automatically setup ScribeUI for you, simply run:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">   sudo make
   sudo chown -R youruser .
   make install
   sudo make perms
</code></pre></div>
<p>Next step is adding the app to apache, here is an example configuration for Apache 2.2:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">WSGIDaemonProcess scribeui user=www-data group=www-data threads=10 \
        python-path=/opt/scribeui/lib/python2.7/site-packages
WSGIScriptAlias /scribeui /opt/scribeui/pyramid.wsgi

&lt;Directory /opt/scribeui&gt;
        WSGIApplicationGroup %{ENV:APPLICATION_GROUP}
        WSGIPassAuthorization On
        WSGIProcessGroup scribeui
        Order deny,allow
        Allow from all
&lt;/Directory&gt;
</code></pre></div>
<p>If you use Apache 2.4, the configuration is slightly different:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">WSGIDaemonProcess scribeui user=www-data group=www-data threads=10 \
        python-path=/opt/scribeui/lib/python2.7/site-packages
WSGIScriptAlias /scribeui /opt/scribeui/pyramid.wsgi

&lt;Directory /opt/scribeui&gt;
        WSGIApplicationGroup %{ENV:APPLICATION_GROUP}
        WSGIPassAuthorization On
        WSGIProcessGroup scribeui
        Require all granted
&lt;/Directory&gt;
</code></pre></div>
<p>Once apache is restarted, ScribeUI should be available!</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">sudo service apache2 restart
</code></pre></div>
<p>Downloading template data is optional, but recommended for a better 
experience: </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">    sudo make load-demo-data   
</code></pre></div>
<p>If you omit this step, the maps you create from default templates will display pink tiles.</p>

<h2>Development installation</h2>

<p>These instructions are for running a development version of ScribeUI. It is pretty good for a local version of the application. Production installation instructions are available below.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">cp development.ini local.ini
</code></pre></div>
<p>Review the following parameters in local.ini, and edit them if needed:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">- sqlalchemy.url
- workspaces.directory
- scribe.python
- cgi.directory
- mapserver.url
</code></pre></div>
<p>Edit the proxy.cgi file and add your server host to the list of allowed hosts if different from localhost (localhost is already included.)</p>

<p>You can use the Makefile to automatically setup ScribeUI for you, simply run:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">    sudo make
    make install
</code></pre></div>
<p>This will download and install the required dependencies, setup the differents
configurations files and install them in the proper directories. </p>

<p>To launch the server at http://localhost:6543/:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">    make start
</code></pre></div>
<p>Downloading template data is optional, but recommended for a better 
experience. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">    sudo make load-demo-data   
</code></pre></div>
<p>This will download some natural earth data and will help you get started with
ScribeUI by making templates readily working so you don&#39;t start with an empty
mapfile. (The template code is still available if you don&#39;t download the data,
but the result will be pink tiles). </p>

    </section>
  </div>
</div>
</div>
<footer>
  <div class="inner clearfix">
    <p>Copyright <a href="http://mapgears.com/">Mapgears</a> 2013 | ScribeUI is released under a <a href="license.html">MIT-style license</a> | ScribeUI.org is hosted on <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
  </div>
</footer>
</body>
</html>

